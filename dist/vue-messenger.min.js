/*!
 * vue-messenger v2.2.1
 * (c) 2018-present fjc0k <fjc0kb@gmail.com> (https://github.com/fjc0k)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueMessenger=t()}(this,function(){"use strict";var e=function(e){return"function"==typeof e},t=function(e){return e&&"object"==typeof e},n=Object.create(null),a={prop:"value",event:"input"};return{beforeCreate:function(){if(!this.__MessengerBeforeCreate__){this.__MessengerBeforeCreate__=!0;var i=this.$options;i.localDataKeys||(i.localDataKeys=[]),i.methods||(i.methods={}),i.watch||(i.watch={});for(var r=i.model||a,s=i.props,o=Object.keys(s),l=function(){var a=o[c],l=s[a];if(Array.isArray(l.enum)){var u=l.validator;l.validator=function(e){return l.enum.indexOf(e)>=0&&(!u||u.apply(this,arguments))},"default"in l||(l.default=l.enum[0])}if(!0===l.numeric){var h=l.validator;l.type=[String,Number],l.validator=function(e){return function(e){return!isNaN(e-parseFloat(e))}(e)&&(!h||h.apply(this,arguments))}}var f,d=a===r.prop,p=d?r.event:"update:"+a,v=d||!!l.sync,m=!!l.transform;if(v||m){var y,_,g,$,b,D=l.transform;e(D)?y=D:t(D)&&(e(D.receive)&&(y=D.receive),e(D.send)&&(_=D.send));var M=l.on;t(M)&&(e(M.receive)&&(g=M.receive),e(M.send)&&($=M.send),e(M.change)&&(b=M.change));var j=((f=a)in n||(n[f]=f.charAt(0).toUpperCase()+f.slice(1)),n[f]),w="local"+j,C="last"+j+"$$",K="lastLocal"+j+"$$",x="send"+j;i.localDataKeys.push(w),i.watch[a]={immediate:!0,handler:function(e,t){e!==t&&e!==this[K]?(!y||null==e||(e=y.call(this,e))!==t&&e!==this[K])&&(g&&!1===g.call(this,e,t)||b&&!1===b.call(this,e,t)||(this[C]=e,this[w]=e)):this[C]=e}},i.watch[w]={immediate:!1,handler:function(e,t){e!==t&&e!==this[C]?(!_||null==e||(e=_.call(this,e))!==t&&e!==this[C])&&($&&!1===$.call(this,e,t)||b&&!1===b.call(this,e,t)||(this[K]=e,v&&this.$emit(p,e,t))):this[K]=e}},v&&(i.methods[x]=function(e){this[w]=e})}},c=0;c<o.length;c++)l()}},data:function(){if(!this.__MessengerData__)return this.__MessengerData__=!0,this.$options.localDataKeys.reduce(function(e,t){return e[t]=null,e},{})}}});
