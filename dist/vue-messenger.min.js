/*!
 * vue-messenger v2.2.1
 * (c) 2018-present fjc0k <fjc0kb@gmail.com> (https://github.com/fjc0k)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueMessenger=t()}(this,function(){"use strict";var e=function(e){return"function"==typeof e},t=function(e){return e&&"object"==typeof e},n=Object.create(null),a={prop:"value",event:"input"};return{beforeCreate:function(){if(!this.__MessengerBeforeCreate__){this.__MessengerBeforeCreate__=!0;var i=this.$options;i.localDataKeys||(i.localDataKeys=[]),i.methods||(i.methods={}),i.watch||(i.watch={});for(var r=i.model||a,s=i.props,o=Object.keys(s),l=function(){var a=o[c],l=s[a];if(Array.isArray(l.enum)){var u=l.validator;l.validator=function(e){return l.enum.indexOf(e)>=0&&(!u||u.apply(this,arguments))},"default"in l||(l.default=l.enum[0])}if(!0===l.numeric){var f=l.validator;l.type=[String,Number],l.validator=function(e){var t=l.infinite,n=l.range;return(t&&(e===1/0||e===-1/0)||function(e){return!isNaN(e-parseFloat(e))}(e))&&(!Array.isArray(n)||e>=n[0]&&e<=n[1])&&(!f||f.apply(this,arguments))}}var h,d=a===r.prop,p=d?r.event:"update:"+a,v=d||!!l.sync,m=!!l.transform;if(v||m){var y,_,g,$,b,D=l.transform;e(D)?y=D:t(D)&&(e(D.receive)&&(y=D.receive),e(D.send)&&(_=D.send));var A=l.on;t(A)&&(e(A.receive)&&(g=A.receive),e(A.send)&&($=A.send),e(A.change)&&(b=A.change));var M=((h=a)in n||(n[h]=h.charAt(0).toUpperCase()+h.slice(1)),n[h]),j="local"+M,w="last"+M+"$$",C="lastLocal"+M+"$$",K="send"+M;i.localDataKeys.push(j),i.watch[a]={immediate:!0,handler:function(e,t){e!==t&&e!==this[C]?(!y||null==e||(e=y.call(this,e))!==t&&e!==this[C])&&(g&&!1===g.call(this,e,t)||b&&!1===b.call(this,e,t)||(this[w]=e,this[j]=e)):this[w]=e}},i.watch[j]={immediate:!1,handler:function(e,t){e!==t&&e!==this[w]?(!_||null==e||(e=_.call(this,e))!==t&&e!==this[w])&&($&&!1===$.call(this,e,t)||b&&!1===b.call(this,e,t)||(this[C]=e,v&&this.$emit(p,e,t))):this[C]=e}},v&&(i.methods[K]=function(e){this[j]=e})}},c=0;c<o.length;c++)l()}},data:function(){if(!this.__MessengerData__)return this.__MessengerData__=!0,this.$options.localDataKeys.reduce(function(e,t){return e[t]=null,e},{})}}});
